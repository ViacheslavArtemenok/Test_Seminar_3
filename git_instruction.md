# Инструкция Git

![Логотип Git][Изображение_логотипа]

## 1. Проверка установленного Git

Вызываем в терминале команду:

```Git
git version
```

Если **«Git»** уже установлен, то будет выведено сообщение о версии программы. В ином случае – сообщение об ошибке.

## 2. Установка Git

Скачиваем последнюю версию **«Git»** со страницы [скачивания][ссылка_на_скачивание], и устанавливаем программу с настройками по умолчанию.

## 3. Настройка Git

При первом использовании Git необходимо представиться. Для этого в терминале нужно ввести две команды:

```Git
git config --global user.name "Ваше_имя_латинскими_буквами"
git config --global user.email ваша_почта@где-то
```

То же самое можно сделать другим способом.  
Вызвать команду `git config` с одним из параметров:

```Git
git config --global -e
git config --local -e
git config --system -e
```

Выбранный файл конфигурации (*global*, *local* или *system*) откроется в редакторе:

![Файл конфигурации в редакторе][снимок экрана редактора config]

Здесь можно ввести все необходимые данные о себе в секции ***user***, прописать пути ко всем своим репозиториям (только в *global*) в секции ***safe***. Если не знаете, что делать, то в файл *system* лучше не влезать.  
Кроме того, конфигурационные файлы на вашем локальном диске можно редактировать и в текстовом редакторе, например, «Notepad++».

## 4. Инициализация репозитория

В терминале переходим в директорию, где собираемся создать репозиторий, и даём команду:

```Git
git init
```

## 5. Запись изменений в репозиторий

Перед внесением изменений в репозиторий желательно проверить, имеются ли на текущий момент какие-либо незафиксированные изменения в нём, а затем уже принимать решение о дальнейших действиях.  
Для этого запустите команду:

```Git
git status
```

В случае наличия подсвеченных красным цветом файлов,
необходимо добавить их в отслеживание изменений (если, только, не желаете исключить их из отслеживания) командой:

```Git
git add <имя_файла>
```

После добавления в отслеживание, следует зафиксировать изменения командой:

```Git
git commit -m "Комментарий"
```

**`Примечание:`** можно зафиксировать изменения, минуя команду ***git add***, командой:

```Git
git commit -am "Комментарий"
```

которая сначала добавит файл в отслеживание, а затем зафиксирует изменения.

Пока изменённый файл не добавлен в отслеживание, можно в терминале посмотреть сделанные в этом файле изменения.  
Для этого запустите команду:

```Git
git diff
```
## 6. Отмена изменений в репозитории

Возьмем для примера ветку:
``- 1af17e - 2af17e - 3af17e (master)``

HEAD указывает на коммит ``3af17e`` и индекс совпадает с ``3af17e``.

* ## Режим мягкого удаления коммита:
```
git reset --soft 2af17e
```
Здесь HEAD будет указывать на ``2af17e`` и изменения из коммита ``3af17e`` будут в индексе, как будто вы их добавили командой git add. Если вы сейчас выполните git commit, вы получите коммит полностью идентичный ``3af17e``.

* ## Режим "по умолчанию" удаления коммита:

Режим --mixed используется по умолчанию, т.е. git reset --mixed = git reset
```
git reset --mixed 2af17e
```
или
```
git reset 2af17e
```
Здесь HEAD снова будет указывать на ``2af17e``, но изменения из ``3af17e`` не будут в индексе. Если выполнить git commit, ничего не произойдет, т.к. ничего нет в индексе. У нас есть все изменения из ``3af17e``, но если запустить git status, то вы увидите, что все изменения not staged. Чтобы их закоммитить, нужно добавить их в индекс через git add и только после этого git commit.

* ## Режим жесткого удаления коммита:
```
git reset --hard 2af17e
```

Режим --hard переместит HEAD на ``2af17e`` и очистит индекс, и при этом изменит или удалит файлы в вашей рабочей директории, т.е. откатит до состояния ``2af17e``. 

Важно!!!
``Учитывая то, что режим --hard подразумевает потерю изменений, вы всегда должны проверять git status перед тем как выполнить жесткий reset, чтобы убедиться, что нет незакоммиченных изменений (или они не нужны).``

## 7. Просмотр истории фиксаций

Запустив с одним из параметров команду:

```Git
git log
git log --oneline
git log --graph
```

можно просмотреть всю историю фиксаций:  
*--oneline* – покажет каждую фиксацию одной строкой;  
*--graph* – слева будет графически представлена история фиксаций.  
Если происходит многострочный вывод, и в конце появляется двоеточие, то продолжить можно, нажимая, например, клавишу пробел. Прерывается вывод клавишей «`q`».

## 8. Перемещение между сохранениями

Перейти от одной фиксации к другой можно с помощью команды:

```Git
git checkout <хэш_код>
```

**`Примечание:`** большинство команд «Git» имеют множество параметров (настроек, или опций, кому как удобно). Краткий список параметров для определённой команды можно получить, вызвав:

```Git
git <команда> -h
```

Для получения детального описания вызывайте:

```Git
git help <команда>
```

Справка откроется в веб браузере.

## 9. Игнорирование файлов

Чтобы исключить из отслеживания в репозитории определённых файлов или папок, необходимо создать в нём файл ***.gitignore***, в который затем вписать их названия, или задать шаблон для их имён.  
Шаблон для имён файлов может быть, например, таким *\*.jpg*; *\*.txt* и т.п.

## 10. Создание веток в Git

По умолчанию название основной ветки в Git – *master*.  
Создать новую ветку можно командой:

```Git
git branch <имя_новой_ветки>
```

а также командой:

```Git
git checkout -b <имя_новой_ветки>
```

которая одновременно создаст новую ветку и перейдёт в неё. Такого же эффекта можно достичь командой:

```Git
git switch -c <имя_новой_ветки>
```

Список веток в репозитории можно посмотреть с помощью команды:

```Git
git branch
```

Текущая ветка будет отмечена звёздочкой – **\* master**

## 11. Слияние веток и разрешение конфликтов

Для слияния выбранной ветки с текущей, нужно запустить команду:

```Git
git merge <название_выбранной_ветки>
```

Если была изменена одна часть файла в обеих ветках, то может возникнуть конфликт, требующий участия пользователя.  
VSCode предлагает разрешение конфликтов, и нужно выбрать один из вариантов, или объединить содержимое по-своему.

## 12. Удаление веток

Чтобы удалить ненужную ветку, используется команда:

```Git
git branch -d <имя_ветки>
```

При этом текущая ветка не может быть удалена. Необходимо сделать это из другой ветки.  
Если удаляемая ветка не была влита в текущую, будет выведено сообщение об ошибке. Чтобы принудительно удалить такую ветку, параметр «`-d`» вводится в верхнем регистре: «`-D`».

```Git
git branch -D <имя_ветки>
```
#
#

[ссылка_на_скачивание]: https://git-scm.com/downloads
[Изображение_логотипа]: img/git_logo.png
[снимок экрана редактора config]: img/edit.jpg
[ссылка на GitHub]: https://github.com